---
import { getCollection, getEntry } from 'astro:content';

import Layout from '../../layouts/Layout/Layout.astro';
import MetaHead from '../../components/MetaHead.astro';

export interface Params {
  slug: string;
}
export type Props = Params;

// const sidebarSections = [
//   {
//     title: 'Про проєкт',
//     items: [
//       {
//         title: 'Кілька слів про нас',
//         path: '/docs',
//       },
//       {
//         title: 'Як відбувається переклад',
//         path: '/docs/translation',
//       },
//       {
//         title: 'Як перекладати в середовищі GitHub',
//         path: '/docs/translating-in-github',
//       },
//       {
//         title: 'Прийняті патерни іменування в репозиторіях',
//         path: '/docs/git-naming-conventions',
//       },
//       { title: 'Словник термінів', path: '/docs/glossary' },
//       { title: 'Ліцензії на вміст WebDoky', path: '/docs/licensing' },
//     ],
//   },
// ];
export async function getStaticPaths() {
  const entries = await getCollection('internal-content');
  return entries.map((entry) => ({
    params: {
      slug: entry.slug,
    },
  }));
}

const slug = Astro.params.slug || Astro.props.slug;
const page = await getEntry('internal-content', slug);
const { Content } = await page.render();

const {
  data: { description, title },
} = page;
---

<Layout title={`${title} — Про нас | ВебДоки`}>
  <MetaHead
    slot="head"
    title={title}
    description={description}
    canonicalPath={`/${slug}`}
  />
  <main class="wd-doc-page">
    <h1>{title}</h1>
    <div class="flex flex-wrap items-start justify-start">
      <div class="order-1 w-full md:w-2/3">
        <div class="wd-content"><Content /></div>

        <div class="mt-8 pt-8 lg:mt-12 lg:pt-12 border-t border-ui-border">
          <!-- <NextPrevLinks page={page} pages={allPages} /> -->
        </div>
      </div>

      <div
        class="order-2 w-full md:w-1/3 sm:pl-4 md:pl-6 lg:pl-8 sticky"
        style={{ top: '4rem' }}>
        <!-- <WdOnThisPage headings={headings} page={page} /> -->
      </div>
    </div>
  </main>
</Layout>

<style lang="scss">
  .wd-doc-page {
    /* .sidebar {
    @apply fixed bg-ui-background px-4 inset-x-0 bottom-0 w-full border-r border-ui-border overflow-y-auto transition-all z-40;

    transform: translateX(-100%);

    &.open {
      transform: translateX(0);

      @screen lg {
        @apply w-1/4 px-0 bg-transparent top-0 bottom-auto inset-x-auto sticky z-0;

        transform: translateX(0);
      }
    }
  } */
  }
</style>
; ; ; ;
